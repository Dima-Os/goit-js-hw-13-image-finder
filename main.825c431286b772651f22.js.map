{"version":3,"sources":["webpack:///./templates/galeryItemTemplate.hbs","webpack:///./js/refs.js","webpack:///./js/renderSearchForm.js","webpack:///./js/notify.js","webpack:///./js/apiService.js","webpack:///./js/lightBoxHandler.js","webpack:///./js/updateMarkup.js","webpack:///./index.js","webpack:///./js/createLoadMoreBtn.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop","body","document","querySelector","formAttributes","type","name","autocomplete","placeholder","error","title","text","message","delay","notice","success","apiKey","URL","searchRequest","currentPage","fecthImg","fetch","this","then","responce","ok","json","notify","status","hits","total","incrementPage","catch","resetPage","ev","target","nodeName","basicLightbox","dataset","source","show","refs","list","innerHTML","loadMoreBtn","remove","insertAdjacentHTML","galeryItemTemplate","addEventListener","onClickHandler","form","createElement","classList","add","setAttribute","preventDefault","input","assign","appendChild","userInput","insertAdjacentElement","renderSearchForm","onLoadMoreHandler","apiService","console","log","length","updateMarkup","window","scrollTo","documentElement","offsetHeight","debounce","event","value","lastElementChild","textContent","createLoadMoreBtn"],"mappings":"gFAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAOL,EAAUM,OAAQC,EAAOP,EAAUQ,iBAAkBC,EAAiBT,EAAUS,gBAAkB,SAASC,EAAQC,GAC1H,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,iDACHJ,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,gBAAkBA,EAASA,IACjF,uDACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,iBAAmBA,EAASA,IAClF,8IACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,SAAWA,EAASA,IAC1E,kHACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,SAAWA,EAASA,IAC1E,0HACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,YAAcA,EAASA,IAC7E,iIACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,aAAeA,EAASA,IAC9E,+CACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIY,EAON,OAA+R,OAAtRA,GAPsBhB,EAAUS,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWT,EAAQ,QAAQa,KAAe,MAAVd,EAAiBA,EAAUD,EAAUiB,aAAe,GAAIhB,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUkB,QAAQ,EAAGd,EAAM,GAAG,QAAUJ,EAAUmB,KAAK,KAAOf,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAiBY,EAAS,IAC/S,SAAU,K,+FChCG,GACbI,KAAMC,SAASC,cAAc,SCkBzBC,EAAiB,CACrBC,KAAM,OACNC,KAAM,QACNC,aAAc,MACdC,YAAa,oB,kCCnBA,G,oBAAA,SACPvB,GACJwB,gBAAM,CACJC,MAAO,SACPC,KAAM,GAAG1B,EAAK2B,QACdC,MAAO,SALE,aASXC,iBAAO,CACLJ,MAAO,iBACPC,KAAM,kDACNE,MAAO,QAZE,aAgBXC,iBAAO,CACLJ,MAAO,cACPC,KAAM,yBACNE,MAAO,QAnBE,aAuBXE,kBAAQ,CACNL,MAAO,UACPC,KAAM,8BACNE,MAAO,QC5BE,GACbG,OAAQ,qCACRC,IAAK,2BACLC,cAAe,KACfC,YAAa,EACbC,SALa,WAKF,WACT,OAAOC,MACFC,KAAKL,IADE,QACSK,KAAKN,OADd,8CACkEM,KAAKJ,cADvE,SAC6FI,KAAKH,YADlG,gBAGTI,MAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElBC,EAAaH,EAASI,WAEvBL,MAAK,YAAqB,IAAlBM,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MACb,OAAc,IAAVA,GACFH,IACOG,IAETH,IACA,EAAKI,gBACE,CAAEF,OAAMC,aAEhBE,OAAM,SAAAvB,GACLkB,EAAalB,OAGnBsB,cA5Ba,WA6BXT,KAAKH,aAAe,GAEtBc,UA/Ba,WAgCXX,KAAKH,YAAc,I,6CChCR,WAAAe,GACc,QAAvBA,EAAGC,OAAOC,UACKC,SAAA,YACHH,EAAGC,OAAOG,QAAQC,OADf,6CAGRC,QCHE,aAEXC,EAAKC,KAAKC,UAAY,GAClBF,EAAKG,aAAaH,EAAKG,YAAYC,UAH5B,WAKA5D,GACXwD,EAAKC,KAAKI,mBAAmB,YAAaC,IAAmB9D,IAC7DwD,EAAKC,KAAKM,iBAAiB,QAASC,KJTzB,WACb,IAAMC,EAAOhD,SAASiD,cAAc,QACpCD,EAAKE,UAAUC,IAAI,eACnBH,EAAKI,aAAa,KAAM,eACxBJ,EAAKF,iBAAiB,UAAU,SAAAd,GAAE,OAAIA,EAAGqB,oBACzC,IAAMC,EAAQtD,SAASiD,cAAc,SACrC1D,OAAOgE,OAAOD,EAAOpD,GACrB8C,EAAKQ,YAAYF,GACjBf,EAAKxC,KAAKyD,YAAYR,GACtBT,EAAKkB,UAAYzD,SAASC,cAAc,wBACxC,IAAMuC,EAAOxC,SAASiD,cAAc,MACpCT,EAAKU,UAAUC,IAAI,WACnBX,EAAKU,UAAUC,IAAI,OACnBZ,EAAKxC,KAAK2D,sBAAsB,YAAalB,GAC7CD,EAAKC,KAAOxC,SAASC,cAAc,YKJrC0D,GAEA,IAkBMC,EAAoB,WACxBC,EAAW3C,WAAWG,MAAK,YAAc,IAAXM,EAAW,EAAXA,KAC5BmC,QAAQC,IAAIpC,EAAKqC,QACbrC,EAAKqC,OAAS,IAChBzB,EAAKG,YAAYC,SAEnBsB,EAA0BtC,GAC1BuC,OAAOC,SAAS,EAAGnE,SAASoE,gBAAgBC,kBAIhD9B,EAAKkB,UAAUX,iBAAiB,QAASwB,oBA7BlB,SAAAC,GAIrB,GAHAV,EAAW7C,cAAgBuD,EAAMtC,OAAOuC,MACxCX,EAAW9B,YACXkC,IACiC,KAA7BJ,EAAW7C,cAGb,OAFAS,SACAwC,IAGFJ,EAAW3C,WAAWG,MAAK,YAAqB,IAAlBM,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAClCqC,EAA0BtC,GACtBC,EAAQ,MCvBD,WACb,GAA4C,WAAxCW,EAAKxC,KAAK0E,iBAAiBvC,SAAuB,CACpD,IAAMQ,EAAc1C,SAASiD,cAAc,UAC3CP,EAAYQ,UAAUC,IACpB,SACA,MACA,cACA,SACA,aAEFT,EAAYU,aAAa,OAAQ,UACjCV,EAAYgC,YAAc,eAC1BnC,EAAKxC,KAAK2D,sBAAsB,YAAahB,GAC7CH,EAAKG,YAAc1C,SAASC,cAAc,YDWxC0E,GACApC,EAAKG,YAAYI,iBAAiB,QAASc,SAgBiB,O","file":"main.825c431286b772651f22.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"photo-card col-3\\\">\\r\\n    <img src=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \" width=\\\"210\\\" height=\\\"220\\\" class=\\\"image\\\" data-source=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \" />\\r\\n\\r\\n    <div class=\\\" stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \" </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i>\\r\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comment</i>\\r\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":23,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","export default {\r\n  body: document.querySelector('body'),\r\n};\r\n","import refs from '../js/refs';\r\n\r\nexport default () => {\r\n  const form = document.createElement('form');\r\n  form.classList.add('search-form');\r\n  form.setAttribute('id', 'search-form');\r\n  form.addEventListener('submit', ev => ev.preventDefault());\r\n  const input = document.createElement('input');\r\n  Object.assign(input, formAttributes);\r\n  form.appendChild(input);\r\n  refs.body.appendChild(form);\r\n  refs.userInput = document.querySelector('#search-form > input');\r\n  const list = document.createElement('ul');\r\n  list.classList.add('gallery');\r\n  list.classList.add('row');\r\n  refs.body.insertAdjacentElement('beforeend', list);\r\n  refs.list = document.querySelector('.gallery');\r\n};\r\n\r\nconst formAttributes = {\r\n  type: 'text',\r\n  name: 'query',\r\n  autocomplete: 'off',\r\n  placeholder: 'Search images...',\r\n};\r\n","import { error, notice, success } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\n\r\nexport default {\r\n  error(data) {\r\n    error({\r\n      title: 'Oh No!',\r\n      text: `${data.message}`,\r\n      delay: 1500,\r\n    });\r\n  },\r\n  noticeAnyMatches() {\r\n    notice({\r\n      title: 'Nothing hepens',\r\n      text: \"Can't find any matches, try change your request\",\r\n      delay: 1500,\r\n    });\r\n  },\r\n  noticeEmpty() {\r\n    notice({\r\n      title: 'Empty imput',\r\n      text: 'Please imput something',\r\n      delay: 1500,\r\n    });\r\n  },\r\n  noticeSucces() {\r\n    success({\r\n      title: 'okay =)',\r\n      text: 'Your query is successful =)',\r\n      delay: 1500,\r\n    });\r\n  },\r\n};\r\n","import notify from './notify';\r\n\r\nexport default {\r\n  apiKey: '18695501-5acbf60d27f3b96795a230f12',\r\n  URL: 'https://pixabay.com/api/',\r\n  searchRequest: null,\r\n  currentPage: 1,\r\n  fecthImg() {\r\n    return fetch(\r\n      `${this.URL}?key=${this.apiKey}&image_type=photo&orientation=horizontal&q=${this.searchRequest}&page=${this.currentPage}&per_page=12`,\r\n    )\r\n      .then(responce => {\r\n        if (responce.ok) {\r\n          return responce.json();\r\n        }\r\n        notify.error(responce.status);\r\n      })\r\n      .then(({ hits, total }) => {\r\n        if (total === 0) {\r\n          notify.noticeAnyMatches();\r\n          return total;\r\n        }\r\n        notify.noticeSucces();\r\n        this.incrementPage();\r\n        return { hits, total };\r\n      })\r\n      .catch(error => {\r\n        notify.error(error);\r\n      });\r\n  },\r\n  incrementPage() {\r\n    this.currentPage += 1;\r\n  },\r\n  resetPage() {\r\n    this.currentPage = 1;\r\n  },\r\n};\r\n","import * as basicLightbox from 'basiclightbox';\r\n\r\nexport default ev => {\r\n  if (ev.target.nodeName === 'IMG') {\r\n    const instance = basicLightbox.create(\r\n      `<img src=${ev.target.dataset.source} width=\"800\" height=\"600\" class=\"bigImg\">`,\r\n    );\r\n    instance.show();\r\n  }\r\n};\r\n","import refs from './refs';\r\nimport galeryItemTemplate from '../templates/galeryItemTemplate.hbs';\r\nimport 'basiclightbox/dist/basicLightbox.min.js';\r\nimport onClickHandler from './lightBoxHandler';\r\nexport default {\r\n  clearMarkup() {\r\n    refs.list.innerHTML = '';\r\n    if (refs.loadMoreBtn) refs.loadMoreBtn.remove();\r\n  },\r\n  appendMarkup(data) {\r\n    refs.list.insertAdjacentHTML('beforeend', galeryItemTemplate(data));\r\n    refs.list.addEventListener('click', onClickHandler);\r\n  },\r\n};\r\n","import './scss/styles.scss';\r\nimport 'normalize.css';\r\nimport 'material-design-icons';\r\nimport 'basiclightbox/dist/basicLightbox.min.css';\r\nimport renderSearchForm from './js/renderSearchForm';\r\nimport refs from './js/refs';\r\nimport apiService from './js/apiService';\r\nimport { debounce } from 'debounce';\r\nimport notify from './js/notify';\r\nimport updateMarkup from './js/updateMarkup';\r\nimport createLoadMoreBtn from './js/createLoadMoreBtn';\r\n\r\nrenderSearchForm();\r\n\r\nconst onInputHandler = event => {\r\n  apiService.searchRequest = event.target.value;\r\n  apiService.resetPage();\r\n  updateMarkup.clearMarkup();\r\n  if (apiService.searchRequest === '') {\r\n    notify.noticeEmpty();\r\n    updateMarkup.clearMarkup();\r\n    return;\r\n  }\r\n  apiService.fecthImg().then(({ hits, total }) => {\r\n    updateMarkup.appendMarkup(hits);\r\n    if (total > 12) {\r\n      createLoadMoreBtn();\r\n      refs.loadMoreBtn.addEventListener('click', onLoadMoreHandler);\r\n    }\r\n  });\r\n};\r\n\r\nconst onLoadMoreHandler = () => {\r\n  apiService.fecthImg().then(({ hits }) => {\r\n    console.log(hits.length);\r\n    if (hits.length < 12) {\r\n      refs.loadMoreBtn.remove();\r\n    }\r\n    updateMarkup.appendMarkup(hits);\r\n    window.scrollTo(0, document.documentElement.offsetHeight);\r\n  });\r\n};\r\n\r\nrefs.userInput.addEventListener('input', debounce(onInputHandler, 500));\r\n","import refs from './refs';\r\n\r\nexport default () => {\r\n  if (refs.body.lastElementChild.nodeName !== 'BUTTON') {\r\n    const loadMoreBtn = document.createElement('button');\r\n    loadMoreBtn.classList.add(\r\n      'button',\r\n      'btn',\r\n      'btn-primary',\r\n      'btn-lg',\r\n      'btn-block',\r\n    );\r\n    loadMoreBtn.setAttribute('type', 'button');\r\n    loadMoreBtn.textContent = 'load more...';\r\n    refs.body.insertAdjacentElement('beforeend', loadMoreBtn);\r\n    refs.loadMoreBtn = document.querySelector('.button');\r\n  }\r\n};\r\n\r\n// btn btn-primary btn-lg btn-block\r\n"],"sourceRoot":""}